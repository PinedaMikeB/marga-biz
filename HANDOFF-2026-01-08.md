# Marga.biz Static Site Migration - Handoff Document
## Date: January 8, 2026

---

## PROJECT OVERVIEW

Migrating marga.biz from WordPress to a static HTML/JS site hosted on Netlify. The goal is to preserve SEO rankings (#2 for "printer rental") while modernizing the tech stack.

---

## REPOSITORY & HOSTING

- **GitHub Repo:** https://github.com/PinedaMikeB/marga-biz
- **Local Path:** `/Volumes/Wotg Drive Mike/GitHub/marga-biz/`
- **Live Site:** https://marga-biz.netlify.app/
- **Original WordPress:** https://marga.biz (still live)

---

## COMPLETED FEATURES

### 1. Contact Form with Netlify Forms
- **Location:** `/static-pages/contact/index.html`
- **Live URL:** https://marga-biz.netlify.app/contact/
- **Features:**
  - All fields mandatory (Name, Email, Company, Mobile, Service, Message)
  - Netlify Forms integration (no backend needed)
  - Honeypot spam protection
  - Email notifications to: solutions@marga.biz, michael.marga@gmail.com
  - Mobile responsive design

### 2. SMS OTP Verification System
- **Functions Location:** `/netlify/functions/`
  - `send-otp.js` - Sends 6-digit OTP via Semaphore API
  - `verify-otp.js` - Validates OTP and grants access
- **SMS Provider:** Semaphore (semaphore.co) - 4992 credits available
- **API Key:** Stored in Netlify Environment Variables as `SEMAPHORE_API_KEY`
- **Flow:** User enters mobile → receives SMS → enters OTP → sees pricing

### 3. Complete Pricing Guide Page
- **Location:** `/static-pages/pricing-guide/index.html`
- **Live URL:** https://marga-biz.netlify.app/pricing-guide/
- **Features:**
  - SMS verification gate (must verify phone to see pricing)
  - 15 plans in colorful card design (5 tiers × 3 levels)
  - Plans A-E covering all printer/copier types
  - All details: pages, speed, deposits, contracts, initial cash out
  - Promo banner and CTA sections
  - 24-hour access token stored in localStorage after verification

### 4. Homepage Button Fix
- **File:** `/data/wordpress-data.json`
- **Change:** "Get Full Pricing Guide" button now links to `/pricing-guide/` instead of broken WordPress popup

### 5. JavaScript Error Fix
- **File:** `/js/main.js`
- **Fix:** querySelector('#') error when href="#" - now skips invalid selectors

---

## PROJECT STRUCTURE

```
marga-biz/
├── data/
│   └── wordpress-data.json      # Extracted WordPress content
├── dist/                        # Generated static site (auto-built)
├── js/
│   └── main.js                  # Site JavaScript
├── css/
│   └── main.css                 # Site styles
├── netlify/
│   └── functions/
│       ├── send-otp.js          # SMS sending function
│       └── verify-otp.js        # OTP verification function
├── static-pages/
│   ├── contact/
│   │   └── index.html           # Contact form page
│   └── pricing-guide/
│       └── index.html           # Complete pricing guide
├── scripts/
│   └── generate.js              # Static site generator
├── netlify.toml                 # Netlify configuration
├── package.json
└── index.html                   # Homepage template
```

---

## BUILD & DEPLOY PROCESS

```bash
cd "/Volumes/Wotg Drive Mike/GitHub/marga-biz"
npm run generate                 # Builds static site to /dist
git add -A && git commit -m "message" && git push
# Netlify auto-deploys from GitHub
```

---

## ENVIRONMENT VARIABLES (Netlify Dashboard)

| Key | Value | Purpose |
|-----|-------|---------|
| SEMAPHORE_API_KEY | 7e15013a60a9d2b6bc2b2f063e958946 | SMS OTP sending |

---

## NOT YET IMPLEMENTED / FUTURE PLANS

### High Priority
1. **Custom Domain Setup** - Point marga.biz to Netlify (currently still on WordPress)
2. **Full SEO Migration** - Ensure all meta tags, canonical URLs, structured data preserved
3. **301 Redirects** - Map all old WordPress URLs to new static paths
4. **Image Optimization** - Currently using WordPress-hosted images via Firebase redirect

### Medium Priority
5. **Blog Migration** - Convert WordPress blog posts to static pages
6. **Service Pages** - Build out individual service pages (copier-rental, printer-rental, etc.)
7. **About Page** - Create static about page
8. **Google Analytics/Tag Manager** - Add tracking codes

### Nice to Have
9. **Form Submission Tracking** - Track conversions in analytics
10. **Live Chat Widget** - Add Tawk.to or similar
11. **WhatsApp Button** - Floating WhatsApp contact button
12. **PDF Download** - Option to download pricing guide as PDF

---

## KNOWN ISSUES

1. **Images from WordPress** - Still loading from marga.biz/wp-content via Firebase redirect
2. **Some internal links** - May still point to marga.biz instead of relative paths
3. **Mobile menu** - Works but could be improved

---

## CREDENTIALS & ACCOUNTS

- **Semaphore Dashboard:** https://semaphore.co/dashboard (logged in as Marga)
- **Netlify Dashboard:** https://app.netlify.com/projects/marga-biz
- **GitHub:** https://github.com/PinedaMikeB/marga-biz

---

## PREVIOUS TRANSCRIPT

Full conversation history: `/mnt/transcripts/2026-01-08-09-57-54-contact-form-netlify-setup.txt`

---

## RECOMMENDED NEXT STEPS

1. **Test SMS verification thoroughly** - Try different phone numbers
2. **Review pricing accuracy** - Confirm all plan details match current offerings
3. **Plan domain migration** - When ready to switch from WordPress to static
4. **Continue building service pages** - Copier rental, printer rental, etc.

---

## CONTACT

Site Owner: Mike (michael.marga@gmail.com)
Business: Marga Enterprises - Printer/Copier Rental in Metro Manila
